<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1space - home</title>
    <script type="text/javascript" src="assets/js/purify.min.js"></script>
    <script src="assets/js/main-lib.js"></script>
    <script src="assets/js/util.js"></script>
    <script src="assets/js/platforms/generic.js"></script>
    <script src="assets/js/platforms/twitter.js"></script>
    <script src="assets/js/platforms/instagram.js"></script>
    <script src="assets/js/platforms/threads.js"></script>
    <script src="assets/js/home.js"></script>

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
    <link href="assets/css/main.css" rel="stylesheet">
    <link href="assets/css/home.css" rel="stylesheet">
</head>
<body>
    <div id="container">
        <div id="left-container">
            <div id="profile-info">
                <img src="assets/placeholder_pfp.jpeg" id="pfp">

                <h2 id="friendly-name">Friendly Name</h2>
                <p id="identifier">@identifier</p>
            </div>
            <div id="navigation-buttons">
                <div id="selected"><a href="#"><span class="material-symbols-outlined">home</span>Home</a></div>
                <div>
                    <a href="/notifications.html">
                        <span class="material-symbols-outlined">notifications</span>
                        Notifications
                    </a>
                    <div id="notification-count-container" style="display: none;"><p id="notification-count"></p></div>
                </div>
                <div><a href="/settings.html"><span class="material-symbols-outlined">settings</span>Settings</a></div>
            </div>
        </div>

        <div id="main-content">
            <div id="title">
                <h1>Home</h1>
            </div>
            <div id="posts">
                <div id="post-creation">
                    <img src="assets/placeholder_pfp.jpeg" id="pc-pfp">
                    
                    <textarea columns="70" rows="4" id="pc-text" oninput="updateCheckboxes()"></textarea>

                    <div id="pc-controls">
                        <div id="pc-select-dropdown">
                            <p>Social media <span class="material-symbols-outlined">expand_more</span></p>
                            <div class="hovered">
                                <div>
                                    <input id="send-twitter" type="checkbox">
                                    <p>Twitter</p>
                                </div>
                                <!-- TODO instagram requires media, add that when i add media
                                    <div>
                                    <input id="send-instagram" type="checkbox">
                                    <p>Instagram</p>
                                </div>-->
                                <div>
                                    <input id="send-threads" type="checkbox">
                                    <p>Threads</p>
                                </div>
                            </div>
                        </div>
                        <button onclick="sendPost().then()"><span class="material-symbols-outlined">send</span></button>
                    </div>
                </div>
                
                <div id="content-loader" class="lds-ellipsis"><div></div><div></div><div></div><div></div></div>
                <div style="margin: 10px;"></div>
                <div style="display: none;" id="error-container">
                    <h2 style="color: #400" id="error-text"></h2>
                    <button onclick="retryLoad()">Retry</button>
                </div>
            </div>
        </div>
    </div>
</body>

<template id="post-template">
    <div class="post">
        <div class="post-header">
            <div class="post-user-info">
                <div class="post-pfp-container">
                    <img src="" class="post-pfp">
                    <img src="" class="post-platform-icon">
                </div>
                <div class="post-name-container">
                    <h3></h3>
                    <p></p>
                </div>
            </div>
            <div class="post-info">
                <p class="post-creation-date"></p>
            </div>
        </div>
        <div class="post-content">
            <p></p>
        </div>
        <div class="post-footer">
        </div>
    </div>
</template>
<template id="stat-template">
    <div><span class="material-symbols-outlined">thumb_up</span><span class="stat-count"></span></div>
</template>
</html>